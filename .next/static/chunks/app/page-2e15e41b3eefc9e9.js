(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5200:function(e,t,n){Promise.resolve().then(n.bind(n,8061))},6993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=n(6921)._(n(2265)).default.createContext(null)},8061:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(7437),s=n(2265),a=n(4873),i=n(6635),o=n(1126),c=n(7907);function l(){let{data:e}=(0,o.useSession)({required:!0,onUnauthenticated(){(0,c.redirect)("/api/auth/signin")}}),[t,n]=(0,s.useState)([]);(0,s.useEffect)(()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered:",e)}).catch(e=>{console.log("SW registration failed:",e)})}),l()},[]);let l=async()=>{try{let e=await fetch("/api/cards");if(e.ok){let t=await e.json();n(t)}}catch(e){console.error("Error fetching cards:",e)}};return(0,r.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4 md:mb-0",children:"My Business Cards"}),(0,r.jsx)(i.default,{onCardAdded:l})]}),(0,r.jsx)(a.default,{cards:t})]})}}},function(e){e.O(0,[799,126,162,866,971,69,744],function(){return e(e.s=5200)}),_N_E=e.O()}]);